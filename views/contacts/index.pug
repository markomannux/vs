extends ../layouts/operator
include ../mixins/_button

block meta
  meta(name='page', content='contacts-index')
  meta(name='turbolinks-cache-control', content='no-preview')

block content

  <section class="text-gray-700 body-font">
    div(class="container px-5 mx-auto")
      +button('Nuovo contatto')(data-behavior="add-contact-button")
      div(data-behavior="add-contact-form-container" class="hidden")
        include fragments/_create_form.pug
  </section>

  <section class="text-gray-700 body-font">
    <div class="container px-5 py-10 mx-auto">
      <div class="flex flex-wrap -m-2">
        each contact in contacts
          div(class="p-2 lg:w-1/3 md:w-1/2 w-full")
            <div class="relative h-full flex items-center border-gray-200 border p-4 rounded-lg">
              a(href=`/contacts/${contact._id}`, data-method="delete", data-remote="true" class="absolute m-2 bottom-0 right-0")
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
              <img alt="team" class="w-16 h-16 bg-gray-100 object-cover object-center flex-shrink-0 rounded-full mr-4" src="https://dummyimage.com/80x80">
              a(href=`/contacts/${contact._id}`, class="flex-grow")
                <h2 class="text-gray-900 title-font font-medium">#{contact.fullName}</h2>
                <p class="text-gray-500">#{contact.email}</p>
            </div>
        </div>
    </div>
  </section>
  